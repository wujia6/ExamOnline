@{
    ViewBag.CurrentMenu = "Menu";
    ViewData["Title"] = "权限菜单管理";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!-- 导入bootstrap-table样式文件 -->
<link href="~/lib/bootstrap-table/bootstrap-table.min.css" rel="stylesheet" />

<div class="content-wrapper">
    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6"><h1>权限菜单管理</h1></div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="#">权限菜单</a></li>
                        <li class="breadcrumb-item active">浏览</li>
                    </ol>
                </div>
            </div>
        </div>
    </section>
    <section class="content">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        类型：<input type="text" id="tbx_type" class="form-control" placeholder="输入菜单类型" />
                        标题：<input type="text" id="tbx_title" class="form-control" placeholder="输入菜单标题" />
                        <button type="button" id="btn_query" class="btn btn-success">查询</button>
                        <button type="button" id="btn_add" class="btn btn-info">添加</button>
                        <button type="button" id="btn_edit" class="btn btn-warning">编辑</button>
                        <button type="button" id="btn_remove" class="btn btn-danger">删除</button>
                    </div>
                    <div class="card-body">
                        <table id="tab_default" class="table table-bordered table-hover"></table>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
@*模态对话框*@
<div class="modal hide fade">
    <div class="modal-header"></div>
    <div class="modal-body"></div>
    <div class="modal-footer"></div>
</div>
<!-- 导入bootstrap-table库文件 -->
<script src="~/lib/bootstrap-table/bootstrap-table.min.js"></script>
<script>
    $(function () {
        //初始化table组件
        var initTable = function (url, prms) {
            var tab = $("#tab_default");
            tab.bootstrapTable("destroy");   //初始化前销毁
            tab.bootstrapTable({
                uniqueId: "ID", //行标识，一般为主键列
                showHeader: true,
                showLoading: true,
                striped: true,  //启用行交替颜色
                toolbar: "#toolbar",    //指定工具条容器
                clickToSelect: true, //启用点击选中行
                showRefresh: true,  //启用刷新按钮
                cache: false,    //是否启用缓存
                url: url,   //数据请求地址
                method: "get",  //ajax提交方式（*）
                queryParams: prms,  //传递参数（*）
                pagination: true,   //启用分页（*）
                sidePagination: "server",   //分页方式：client客户端分页，server服务端分页（*）
                pageNumber: 1,   //当前页码初始化加载第一页，默认第一页
                pageSize: 10,   //每页的记录行数（*）
                pageList: [10, 20, 50, 100],    //可供选择的每页的行数（*）
                columns: [
                    { checkbox: true },
                    { field: "ID", title: "编号" },
                    { field: "ParentID", title: "父节点" },
                    { field: "MenuType", title: "类型" },
                    { field: "Title", title: "标题" },
                    { field: "Controller", title: "模块" },
                    { field: "Action", title: "功能" },
                    { field: "Remarks", title: "备注" }
                ]
            });
            return initTable;
        }

        //刷新table数据
        var reload = function (tab) {
            tab.bootstrapTable("refresh");
        }

        //查询
        $("#btn_query").click(function () {
            var url = "/Menu/Lists";
            var params = {
                type: $("#tbx_type").val(),
                title: $("#tbx_title").val()
            }
            initTable(url, params);
        });

        //添加
        $("#btn_add").click(function () {
            
        })
    })
</script>

